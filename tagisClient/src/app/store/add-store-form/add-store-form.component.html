<div class="row col-xs-12"><h1>{{ pageTitle }}</h1></div>
<form [formGroup]="addStoreForm" (submit)="onSubmit(addStoreForm)">
  <div class="row">
    <div class="col-xs-12">
      <div class="component-body">
        <div class="row" style="margin: 0;">
          <div class="form-group col-xs-12" style="padding: 0;">
            <input 
              type="text" 
              name="company_title" 
              formControlName="company_title"
              (focusout)="checkInput($event.target)" 
              (keyup)="formatMachineName($event)"
              [(ngModel)]="store.title"
              [ngClass]="{'filled': store.title}" />
            <label for="name">Store title</label>
            <small *ngIf="machineName">Machine name: {{ machineName }}</small>
          </div>
        </div>
        <img [src]="store.logo" *ngIf="store.logo" />
        <div class="row">
          <div class="col-xs-10" style="padding-left: 0;">
            <label>Store logo</label>
            <input 
              type="file" 
              ng2FileSelect 
              [uploader]="uploader"
              #file />
          </div>
          <div class="col-xs-2" style="padding-right: 0; padding-top: 26px;">
            <a class="btn btn-primary btn-block" (click)="uploadLogo()">Upload</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6">
      <div class="component-body">
        <h3>Address information</h3>
        <div class="form-group">
          <input  
            type="text" 
            name="address1" 
            formControlName="address1" 
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.address1"
            [ngClass]="{'filled': store.address1}" />
          <label for="address1">Street address</label>
        </div>
        <div class="form-group">
          <input 
            type="email" 
            name="address2" 
            formControlName="address2" 
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.address2"
            [ngClass]="{'filled': store.address2}" />
          <label for="address2">Suite number</label>
        </div>
        <div class="form-group">
          <input 
            type="text" 
            name="city" 
            formControlName="city" 
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.city"
            [ngClass]="{'filled': store.city}" />
          <label for="city">City</label>
        </div>
        <div class="form-group row">
          <select
            name="state"
            formControlName="state"
            class="col-xs-12"
            [(ngModel)]="store.state" >
            <option value="" disabled selected="selected">State</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="DC">District Of Columbia</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
          </select>
        </div>
        <div class="form-group">
          <input  
            type="text" 
            name="zip" 
            formControlName="zip"
            [(ngModel)]="store.zip"
            [ngClass]="{'filled': store.zip}" />
          <label for="zip">Zip</label>
        </div>
      </div>
    </div>
    <div class="col-xs-12 col-sm-6">
      <div class="component-body">
        <h3>Contact information</h3>
        <div class="form-group">
          <input 
            type="text" 
            name="contact_name" 
            formControlName="contact_name" 
            required
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.contact_name"
            [ngClass]="{'filled': store.contact_name}" >
          <label for="contact_name">Contact name</label>
        </div>
        <div class="form-group">
          <input 
            type="email" 
            name="contact_email" 
            formControlName="contact_email" 
            required
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.contact_email"
            [ngClass]="{'filled': store.contact_email}" >
          <label for="contact_email">Contact email</label>
        </div>
        <div class="form-group">
          <input 
            type="text" 
            name="contact_phone" 
            formControlName="contact_phone" 
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.contact_phone"
            [ngClass]="{'filled': store.contact_phone}" >
          <label for="contact_phone">Contact phone</label>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-6">
      <div class="component-body">
        <h3>Online information</h3>
        <div class="form-group">
          <input 
            type="text" 
            name="website" 
            formControlName="website"
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.websiteUrl"
            [ngClass]="{'filled': store.websiteUrl}" >
          <label for="website">Website</label>
        </div>
        <div class="form-group">
          <input 
            type="text" 
            name="company_store" 
            formControlName="company_store" 
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.storeUrl"
            [ngClass]="{'filled': store.storeUrl}" >
          <label for="company_store">Comapny store</label>
        </div>
        <div class="form-group">
          <input 
            type="text" 
            name="product_api_endpoint" 
            formControlName="product_api_endpoint" 
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.product_api_endpoint"
            [ngClass]="{'filled': store.product_api_endpoint}" >
          <label for="product_api_endpoint">Product API endpoint</label>
        </div>
        <div class="form-group">
          <input 
            type="text" 
            name="order_api_endpoint" 
            formControlName="order_api_endpoint" 
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.order_api_endpoint"
            [ngClass]="{'filled': store.order_api_endpoint}" >
          <label for="order_api_endpoint">Order API endpoint</label>
        </div>
        <div class="form-group">
          <input 
            type="text" 
            name="auth_token" 
            formControlName="auth_token" 
            (focusout)="checkInput($event.target)"
            [(ngModel)]="store.auth_token"
            [ngClass]="{'filled': store.auth_token}" >
          <label for="auth_token">Auth Token</label>
        </div>
        <div class="form-group">
          <input 
            type="email" 
            name="email_from_address" 
            formControlName="email_from_address" 
            placeholder="no-reply@theadventgroup.net" 
            class="filled"
            [(ngModel)]="store.email_from_address" />
          <label for="email_from_address">"From" email address</label>
        </div>
        <div class="form-group">
          <input
            type="checkbox"
            name="update_on_approval"
            formControlName="update_on_approval"
            value="0"
            [(ngModel)]="store.update_on_approval" />
          <label for="update_on_approval">&nbsp;Update inventory on order approval</label>
          <span class="comment">Note: may not be applicable.</span>
        </div>
      </div>
    </div>
    <div class="col-xs-12 col-sm-6">
      <div class="component-body">
        <h3>Email settings</h3>
        <div class="form-group">
          <input 
            type="checkbox" 
            name="emails_enabled" 
            formControlName="emails_enabled"
            value="1"
            [(ngModel)]="store.emails_enabled" />
          <label for="emails_enabled">Transactional emails enabled</label>
        </div>
        <div class="form-group">
          <input 
            type="text" 
            name="discount" 
            formControlName="discount" 
            placeholder="Ex: 10% off" 
            class="filled"
            [(ngModel)]="store.discount" />
          <label for="email_from_address">Discount</label>
        </div>
        <div class="form-group">
          <input 
            type="text" 
            name="coupon_code" 
            formControlName="coupon_code" 
            [ngClass]="{'filled': store.coupon_code}"
            [(ngModel)]="store.coupon_code" />
          <label for="email_from_address">Coupon code</label>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div class="form-controls">
        <a routerLink="/stores" class="form-cancel">Cancel</a>
        <input type="submit" class="btn btn-success" value="Save store" [disabled]="!addStoreForm.valid" />
      </div>
    </div>
  </div>
</form>
